(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b3a113"],{"192d":function(e,t,i){"use strict";i("2b7b")},"2b7b":function(e,t,i){},3044:function(e,t,i){"use strict";i.r(t);var n=i("7a23");const c={class:"page-container"},o={class:"recipe-container"};function r(e,t,i,r,s,a){const d=Object(n["z"])("ActionModal"),l=Object(n["z"])("RecipeDetails"),u=Object(n["z"])("RecipeEditForm"),b=Object(n["z"])("RecipeNotFound");return Object(n["s"])(),Object(n["f"])("div",c,[this.modalShow?(Object(n["s"])(),Object(n["d"])(d,{key:0,recipe:this.recipe,action:this.modalAction,onActionClick:this.modalActionClick,onCloseModal:a.closeModal},null,8,["recipe","action","onActionClick","onCloseModal"])):Object(n["e"])("",!0),Object(n["g"])("div",o,[this.recipe.id&&!this.editingMode?(Object(n["s"])(),Object(n["d"])(l,{key:0,recipe:this.recipe,onDeleteRecipeClick:a.deleteRecipeRequest,onEnterEditMode:a.enterEditMode},null,8,["recipe","onDeleteRecipeClick","onEnterEditMode"])):Object(n["e"])("",!0),this.recipe.id&&this.editingMode?(Object(n["s"])(),Object(n["d"])(u,{key:1,recipe:this.recipe,onExitEditClick:a.exitEditRequest,onSaveEdits:a.saveEditUpdates},null,8,["recipe","onExitEditClick","onSaveEdits"])):Object(n["e"])("",!0),this.recipe.id?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])(b,{key:2,message:this.notFoundMessage},null,8,["message"]))])])}const s=e=>(Object(n["v"])("data-v-d8df0828"),e=e(),Object(n["t"])(),e),a={class:"recipe-details-container"},d={class:"recipe-wrapper"},l={class:"recipe-details"},u={class:"tr-drink-name"},b={colspan:"2"},p={key:0,class:"tr-description"},g={colspan:"2"},j={class:"tr-garnish tr-details tr-build-details"},O=s(()=>Object(n["g"])("th",null,"garnish",-1)),h={colspan:"2"},m={class:"tr-glass tr-details tr-build-details"},f=s(()=>Object(n["g"])("th",null,"glass",-1)),v={colspan:"2"},k={class:"tr-instructions tr-details"},I=s(()=>Object(n["g"])("th",null,"instructions",-1)),y={colspan:"2"},E={class:"tr-yearCreated tr-details"},R=s(()=>Object(n["g"])("th",null,"year created",-1)),C={colspan:"2"},w={class:"tr-otherInfo tr-details"},M=s(()=>Object(n["g"])("th",null,"other info",-1)),x={colspan:"2"},B={class:"tr-creatorAttribution tr-details"},A=s(()=>Object(n["g"])("th",null,"creator",-1)),D={colspan:"2"};function $(e,t,i,c,o,r){const s=Object(n["z"])("EditIcon");return Object(n["s"])(),Object(n["f"])("div",a,[Object(n["g"])("div",d,[Object(n["g"])("table",l,[Object(n["g"])("tr",u,[Object(n["g"])("th",b,[Object(n["g"])("h5",null,Object(n["B"])(i.recipe.drinkName),1),Object(n["g"])("div",{class:Object(n["o"])(i.recipe.draft?"draft":"hidden")},"DRAFT",2),Object(n["i"])(s,{class:"hero-icons edit-recipe-btn",onClick:t[0]||(t[0]=e=>r.enterEditMode(i.recipe.id))})])]),i.recipe.description?(Object(n["s"])(),Object(n["f"])("tr",p,[Object(n["g"])("td",g,Object(n["B"])(i.recipe.description),1)])):Object(n["e"])("",!0),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(i.recipe.ingredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("tr",{class:"tr-ingredient-list",key:t},[Object(n["g"])("th",{class:Object(n["o"])(0===t?"th-first-ingredient":"")},Object(n["B"])(e.qty)+" "+Object(n["B"])(e.unit),3),Object(n["g"])("td",{class:Object(n["o"])(0===t?"td-first-ingredient":"")},Object(n["B"])(e.ingredient),3)]))),128)),Object(n["g"])("tr",j,[O,Object(n["g"])("td",h,Object(n["B"])(i.recipe.garnish||"-"),1)]),Object(n["g"])("tr",m,[f,Object(n["g"])("td",v,Object(n["B"])(i.recipe.glass||"-"),1)]),Object(n["g"])("tr",k,[I,Object(n["g"])("td",y,Object(n["B"])(i.recipe.instructions||"-"),1)]),Object(n["g"])("tr",E,[R,Object(n["g"])("td",C,Object(n["B"])(i.recipe.yearCreated||"-"),1)]),Object(n["g"])("tr",w,[M,Object(n["g"])("td",x,Object(n["B"])(i.recipe.otherInfo||"-"),1)]),Object(n["g"])("tr",B,[A,Object(n["g"])("td",D,Object(n["B"])(i.recipe.creatorAttribution||"-"),1)])]),Object(n["g"])("button",{class:"text-btn delete-recipe-btn",onClick:t[1]||(t[1]=e=>r.deleteRecipeClick(i.recipe.id))}," Delete this recipe ")])])}function S(e,t,i,c,o,r){const s=Object(n["z"])("PencilSquareIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"hero-icons"})}function T(e,t){return Object(n["s"])(),Object(n["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Object(n["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}var _={name:"EditIcon",components:{PencilSquareIcon:T}},q=i("6b0d"),F=i.n(q);const U=F()(_,[["render",S]]);var z=U,N={name:"RecipeDetails",components:{EditIcon:z},props:{recipe:Object},emits:{"delete-recipe-click":function(e){return!!e||(console.warn("Delete click emit | id is missing."),!1)},"enter-edit-mode":function(e){return!!e||(console.warn("Enter edit mode click emit | id is missing."),!1)}},mounted(){console.log(this.recipe)},methods:{deleteRecipeClick(e){this.$emit("delete-recipe-click",e)},enterEditMode(e){this.$emit("enter-edit-mode",e)}}};i("192d");const L=F()(N,[["render",$],["__scopeId","data-v-d8df0828"]]);var X=L;const V={class:"recipe-details-container form-wrapper"},H=Object(n["g"])("h3",{class:"form-title"},"Edit your recipe",-1),G={class:"form-category"},Q={class:"form-group inline-checkbox"},P=Object(n["g"])("label",{for:"draft"},"Tag this recipe as a draft?",-1),Y=["checked"],J={class:"recipe-edit-form"},K={class:"form-group"},W=Object(n["g"])("label",{for:"drink-name"},"Drink Name",-1),Z=["value"],ee={class:"form-group"},te=Object(n["g"])("label",{for:"description"},"Description",-1),ie=["value"],ne={class:"build-specs form-category"},ce=Object(n["g"])("h4",null,"Build Specs",-1),oe=Object(n["g"])("span",null,"Recipes must have a minimum of two ingredients.",-1),re={class:"flex-group qty"},se=["for"],ae=["id","onUpdate:modelValue"],de={class:"flex-group unit"},le=["for"],ue=["id","onUpdate:modelValue"],be={class:"flex-group ingredient"},pe=["for"],ge={class:"flex-group-with-btn"},je=["id","onUpdate:modelValue"],Oe=["onClick","disabled"],he={class:"form-group"},me=Object(n["g"])("label",{for:"garnish"},"Garnish",-1),fe=["value"],ve={class:"form-group"},ke=Object(n["g"])("label",{for:"glass"},"Glass",-1),Ie=["value"],ye={class:"form-group"},Ee=Object(n["g"])("label",{for:"instructions"},"Instructions",-1),Re=["value"],Ce={class:"extra-info form-category"},we=Object(n["g"])("h4",null,"Extra Info",-1),Me={class:"form-group"},xe=Object(n["g"])("label",{for:"creator-attribution"},"Creator Attribution",-1),Be=["value"],Ae={class:"form-group"},De=Object(n["g"])("label",{for:"year-created"},"Year Created",-1),$e=["value"],Se={class:"form-group"},Te=Object(n["g"])("label",{for:"other-info"},"Fun facts or other information about this drink:",-1),_e=["value"];function qe(e,t,i,c,o,r){const s=Object(n["z"])("XIcon");return Object(n["s"])(),Object(n["f"])("div",V,[Object(n["g"])("button",{class:"exit-edit-btn icon-btn",onClick:t[0]||(t[0]=e=>r.exitEditModeClick())},[Object(n["i"])(s)]),H,Object(n["g"])("div",G,[Object(n["g"])("div",Q,[P,Object(n["g"])("input",{type:"checkbox",class:"form-control",id:"draft",checked:o.localDraftTag,name:"draft",onChange:t[1]||(t[1]=e=>r.updateDraftTag())},null,40,Y)]),Object(n["g"])("div",J,[Object(n["g"])("div",K,[W,Object(n["g"])("input",{type:"text",class:"form-control",id:"drink-name",required:"",value:i.recipe.drinkName,onInput:t[2]||(t[2]=e=>o.updatedRecipe.drinkName=e.target.value),name:"drink-name"},null,40,Z)]),Object(n["g"])("div",ee,[te,Object(n["g"])("input",{type:"text",class:"form-control",id:"description",value:i.recipe.description,onInput:t[3]||(t[3]=e=>o.updatedRecipe.description=e.target.value),name:"description"},null,40,ie)])]),Object(n["g"])("div",ne,[ce,oe,(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.localRecipeIngredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("div",{class:"form-group ingredient-item",key:t,name:"ingredient-list"},[Object(n["g"])("div",re,[Object(n["g"])("label",{for:"qty"+t},"Qty",8,se),Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"4",id:"qty"+t,name:"qty","onUpdate:modelValue":t=>e.qty=t},null,8,ae),[[n["E"],e.qty]])]),Object(n["g"])("div",de,[Object(n["g"])("label",{for:"unit"+t},"Unit",8,le),Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"10",id:"unit"+t,"onUpdate:modelValue":t=>e.unit=t,name:"unit"},null,8,ue),[[n["E"],e.unit]])]),Object(n["g"])("div",be,[Object(n["g"])("label",{for:"ingredient"+t},"Ingredient",8,pe),Object(n["g"])("div",ge,[Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"24",id:"ingredient"+t,name:"ingredient",required:"","onUpdate:modelValue":t=>e.ingredient=t},null,8,je),[[n["E"],e.ingredient]]),Object(n["g"])("button",{class:"form-list-btn icon-btn",onClick:e=>r.deleteIngredientField(t),disabled:o.localRecipeIngredients.length<=2},[Object(n["i"])(s)],8,Oe)])])]))),128)),o.localRecipeIngredients.length<=15?(Object(n["s"])(),Object(n["f"])("button",{key:0,onClick:t[4]||(t[4]=e=>r.addIngredientField()),class:"add-more-fields-btn text-btn"}," Add an ingredient ")):Object(n["e"])("",!0),Object(n["g"])("div",he,[me,Object(n["g"])("input",{type:"text",class:"form-control",id:"garnish",value:i.recipe.garnish,onInput:t[5]||(t[5]=e=>o.updatedRecipe.garnish=e.target.value),name:"garnish"},null,40,fe)]),Object(n["g"])("div",ve,[ke,Object(n["g"])("input",{type:"text",class:"form-control",id:"glass",value:i.recipe.glass,onInput:t[6]||(t[6]=e=>o.updatedRecipe.glass=e.target.value),name:"glass"},null,40,Ie)]),Object(n["g"])("div",ye,[Ee,Object(n["g"])("textarea",{type:"text",class:"form-control",id:"instructions",value:i.recipe.instructions,onInput:t[7]||(t[7]=e=>o.updatedRecipe.instructions=e.target.value),name:"instructions"},null,40,Re)])]),Object(n["g"])("div",Ce,[we,Object(n["g"])("div",Me,[xe,Object(n["g"])("input",{type:"text",class:"form-control",id:"creator-attribution",value:i.recipe.creatorAttribution,onInput:t[8]||(t[8]=e=>o.updatedRecipe.creatorAttribution=e.target.value),name:"creator-attribution"},null,40,Be)]),Object(n["g"])("div",Ae,[De,Object(n["g"])("input",{type:"text",class:"form-control",id:"year-created",value:i.recipe.yearCreated,onInput:t[9]||(t[9]=e=>o.updatedRecipe.yearCreated=e.target.value),name:"year-created"},null,40,$e)]),Object(n["g"])("div",Se,[Te,Object(n["g"])("textarea",{type:"textarea",class:"form-control",id:"other-info",value:i.recipe.otherInfo,onInput:t[10]||(t[10]=e=>o.updatedRecipe.otherInfo=e.target.value),name:"other-info"},null,40,_e)])]),Object(n["g"])("button",{class:"update-recipe-btn text-btn",onClick:t[11]||(t[11]=e=>r.saveEditsClick(i.recipe.id))}," Save "),Object(n["g"])("button",{class:"exit-edit-btn text-btn",onClick:t[12]||(t[12]=e=>r.exitEditModeClick())}," Cancel ")])])}var Fe=i("b2a5"),Ue={name:"RecipeEditForm",components:{XIcon:Fe["a"]},props:{recipe:Object},data(){return{localRecipeIngredients:this.recipe.ingredients.map(e=>e),localDraftTag:this.recipe.draft,updatedRecipe:{}}},emits:{"exit-edit-click":function(){return!0},"save-edits":function(e){return!!e||(console.warn("Save click emit | id is missing."),!1)}},methods:{updateDraftTag(){this.localDraftTag=!this.localDraftTag,this.updatedRecipe.draft=this.localDraftTag},addIngredientField(){this.localRecipeIngredients.push({qty:"",unit:"",ingredient:""})},deleteIngredientField(e){this.localRecipeIngredients.splice(e,1)},exitEditModeClick(){this.$emit("exit-edit-click")},saveEditsClick(e){for(let i=0;i<=15;i++)this.localRecipeIngredients[i]?(this.updatedRecipe[`ingredientItem${i}_Qty`]=this.localRecipeIngredients[i].qty,this.updatedRecipe[`ingredientItem${i}_Unit`]=this.localRecipeIngredients[i].unit,this.updatedRecipe[`ingredientItem${i}_Ingredient`]=this.localRecipeIngredients[i].ingredient):(this.updatedRecipe[`ingredientItem${i}_Qty`]="",this.updatedRecipe[`ingredientItem${i}_Unit`]="",this.updatedRecipe[`ingredientItem${i}_Ingredient`]="");console.log("UPDATED",this.updatedRecipe);const t=this.updatedRecipe;this.$emit("save-edits",e,t)}}};const ze=F()(Ue,[["render",qe]]);var Ne=ze;const Le=Object(n["g"])("h3",null,"Recipe Not Found",-1),Xe=Object(n["h"])("Return to browsing your Little Bar Book for other recipes"),Ve=Object(n["h"])(" or "),He=Object(n["h"])("go to homepage.");function Ge(e,t,i,c,o,r){const s=Object(n["z"])("router-link");return Object(n["s"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("p",null,Object(n["B"])(i.message),1),Le,Object(n["g"])("div",null,[Object(n["i"])(s,{to:"/recipes"},{default:Object(n["G"])(()=>[Xe]),_:1}),Ve,Object(n["i"])(s,{to:"/"},{default:Object(n["G"])(()=>[He]),_:1})])],64)}var Qe={name:"RecipeNotFound",props:{message:String}};const Pe=F()(Qe,[["render",Ge]]);var Ye=Pe;const Je={class:"modal-screen-overlay"},Ke={class:"modal-container"},We={key:0,class:"first-check"},Ze={key:1,class:"final-check"};function et(e,t,i,c,o,r){return Object(n["s"])(),Object(n["f"])("div",Je,[Object(n["g"])("div",Ke,[this.showSecondConfirmation?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("div",We,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.disclaimerMessage),1),Object(n["g"])("p",null,Object(n["B"])(this.mainMessage),1),Object(n["g"])("button",{onClick:t[0]||(t[0]=e=>{!0===this.useSecondConfirmation?r.openFinalCheck():r.confirmAction(i.recipe.id)})},Object(n["B"])(this.actionButton),1),Object(n["g"])("button",{onClick:t[1]||(t[1]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])),this.showSecondConfirmation?(Object(n["s"])(),Object(n["f"])("div",Ze,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.finalMessage),1),Object(n["g"])("button",{onClick:t[2]||(t[2]=e=>r.secondConfirmAction(i.recipe.id))},Object(n["B"])(this.confirmActionButton),1),Object(n["g"])("button",{onClick:t[3]||(t[3]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])):Object(n["e"])("",!0)])])}var tt={name:"ActionModal",components:{},props:{recipe:Object,action:String},emits:{"action-click":function(e){return!!e||(console.warn("Confirm modal click emit | id is missing."),!1)},"close-modal":function(){return!0}},data(){return{showSecondConfirmation:!1,useSecondConfirmation:!1,header:"",disclaimerMessage:"",mainMessage:"",finalMessage:"",actionButton:"",confirmActionButton:"",cancelButton:""}},mounted(){"DELETE"===this.action&&(this.header="DELETE THIS RECIPE?",this.disclaimerMessage="This is a permanent action and cannot be undone!",this.mainMessage="Are you sure you want to delete this recipe from your Little Bar Book?",this.finalMessage="Re-confirm that you want to delete this recipe. This cannot be undone.",this.actionButton="Yes, permanently delete.",this.confirmActionButton="Yes. Delete it forever.",this.cancelButton="No, nevermind.",this.useSecondConfirmation=!0),"EXIT_EDIT"===this.action&&(this.header="EXIT EDITING MODE?",this.disclaimerMessage="Your changes will not be saved!",this.actionButton="Exit, discard changes.",this.cancelButton="Oops, take me back to editing mode.",this.useSecondConfirmation=!1)},methods:{openFinalCheck(){this.showSecondConfirmation=!0},confirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},secondConfirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},closeModal(){this.$emit("close-modal")}}};i("6ad8");const it=F()(tt,[["render",et],["__scopeId","data-v-247e59c9"]]);var nt=it,ct=i("6730"),ot={name:"recipe",components:{RecipeDetails:X,RecipeEditForm:Ne,RecipeNotFound:Ye,ActionModal:nt},data(){return{recipe:{},editingMode:!1,modalShow:!1,modalAction:"",modalActionClick:"",notFoundMessage:""}},mounted(){ct["a"].get(this.$route.params.id).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},methods:{getRecipeDetails(e){ct["a"].get(e).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},closeModal(){this.modalShow=!1},deleteRecipeRequest(){this.modalShow=!0,this.modalAction="DELETE",this.modalActionClick=this.confirmedDeleteRecipe},confirmedDeleteRecipe(e){ct["a"].delete(e).then(()=>{this.recipe=[],this.notFoundMessage="Recipe was successfully deleted."}).catch(t=>{console.warn(`Error when deleting recipe with id: ${e}. ${t}`)})},enterEditMode(){this.editingMode=!0},exitEditRequest(){this.modalShow=!0,this.modalAction="EXIT_EDIT",this.modalActionClick=this.exitEditMode},exitEditMode(){this.editingMode=!1},saveEditUpdates(e,t){ct["a"].update(e,t).then(()=>{this.getRecipeDetails(e),this.exitEditMode()}).catch(t=>{console.warn(`Error when updating recipe with id: ${e}. ${t}`)})}}};const rt=F()(ot,[["render",r]]);t["default"]=rt},"6ad8":function(e,t,i){"use strict";i("917d")},"917d":function(e,t,i){},b2a5:function(e,t,i){"use strict";var n=i("7a23");function c(e,t,i,c,o,r){const s=Object(n["z"])("XMarkIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"hero-icons"})}function o(e,t){return Object(n["s"])(),Object(n["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[Object(n["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 19.5l15-15m-15 0l15 15"})])}var r={name:"XIcon",components:{XMarkIcon:o}},s=i("6b0d"),a=i.n(s);const d=a()(r,[["render",c]]);t["a"]=d}}]);
//# sourceMappingURL=chunk-64b3a113.ec48ebb4.js.map