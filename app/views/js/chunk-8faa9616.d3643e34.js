(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8faa9616"],{"12bf":function(e,t,i){"use strict";i("b2a4")},3044:function(e,t,i){"use strict";i.r(t);var n=i("7a23");const c={class:"page-container"},o={class:"recipe-container"};function r(e,t,i,r,s,a){const l=Object(n["z"])("ActionModal"),d=Object(n["z"])("RecipeDetails"),u=Object(n["z"])("RecipeEditForm"),p=Object(n["z"])("RecipeNotFound");return Object(n["s"])(),Object(n["f"])("div",c,[this.modalShow?(Object(n["s"])(),Object(n["d"])(l,{key:0,recipe:this.recipe,action:this.modalAction,onActionClick:this.modalActionClick,onCloseModal:a.closeModal},null,8,["recipe","action","onActionClick","onCloseModal"])):Object(n["e"])("",!0),Object(n["g"])("div",o,[this.recipe.id&&!this.editingMode?(Object(n["s"])(),Object(n["d"])(d,{key:0,recipe:this.recipe,onDeleteRecipeClick:a.deleteRecipeRequest,onEnterEditMode:a.enterEditMode},null,8,["recipe","onDeleteRecipeClick","onEnterEditMode"])):Object(n["e"])("",!0),this.recipe.id&&this.editingMode?(Object(n["s"])(),Object(n["d"])(u,{key:1,recipe:this.recipe,onExitEditClick:a.exitEditRequest,onSaveEdits:a.saveEditUpdates},null,8,["recipe","onExitEditClick","onSaveEdits"])):Object(n["e"])("",!0),this.recipe.id?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])(p,{key:2,message:this.notFoundMessage},null,8,["message"]))])])}const s={class:"recipe-details-container"},a=Object(n["g"])("h3",null,"DETAIL VIEW ONLY COMPONENT",-1),l={class:"recipe"},d={class:"drink-name-header"},u={colspan:"2"},p={colspan:"2"},b={colspan:"2"},g={colspan:"2"},h={colspan:"2"},O={colspan:"2"},j={colspan:"2"},m={colspan:"2"},f={colspan:"2"};function v(e,t,i,c,o,r){const v=Object(n["z"])("EditIcon"),k=Object(n["z"])("TrashcanIcon");return Object(n["s"])(),Object(n["f"])("div",s,[a,Object(n["g"])("div",l,[Object(n["i"])(v,{class:"edit-recipe-btn",onClick:t[0]||(t[0]=e=>r.enterEditMode(i.recipe.id))}),Object(n["i"])(k,{class:"delete-recipe-btn",onClick:t[1]||(t[1]=e=>r.deleteRecipeClick(i.recipe.id))}),Object(n["g"])("tr",d,[Object(n["g"])("th",u,Object(n["B"])(i.recipe.drinkName),1),Object(n["g"])("div",{class:Object(n["o"])(i.recipe.draft?"draft":"hidden")},"DRAFT",2)]),Object(n["g"])("tr",null,[Object(n["g"])("td",p,Object(n["B"])(i.recipe.description),1)]),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(i.recipe.ingredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("tr",{class:"ingredient-list",key:t},[Object(n["g"])("th",null,Object(n["B"])(e.qty)+" "+Object(n["B"])(e.unit),1),Object(n["g"])("td",null,Object(n["B"])(e.ingredient),1)]))),128)),Object(n["g"])("tr",null,[Object(n["g"])("td",b,Object(n["B"])(i.recipe.garnish),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",g,Object(n["B"])(i.recipe.glass),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",h,Object(n["B"])(i.recipe.instructions),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",O,Object(n["B"])(i.recipe.yearCreated),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",j,Object(n["B"])(i.recipe.otherInfo),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",m,Object(n["B"])(i.recipe.creatorAttribution),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",f,Object(n["B"])(i.recipe.published),1)])])])}function k(e,t,i,c,o,r){const s=Object(n["z"])("PencilAltIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"hero-icons"})}function I(e,t){return Object(n["s"])(),Object(n["d"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Object(n["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])}var E={name:"EditIcon",components:{PencilAltIcon:I}},R=i("6b0d"),y=i.n(R);const C=y()(E,[["render",k]]);var w=C;function M(e,t,i,c,o,r){const s=Object(n["z"])("TrashIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"hero-icons"})}function B(e,t){return Object(n["s"])(),Object(n["d"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Object(n["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])}var x={name:"TrashcanIcon",components:{TrashIcon:B}};const A=y()(x,[["render",M]]);var D=A,T={name:"RecipeDetails",components:{EditIcon:w,TrashcanIcon:D},props:{recipe:Object},emits:{"delete-recipe-click":function(e){return!!e||(console.warn("Delete click emit | id is missing."),!1)},"enter-edit-mode":function(e){return!!e||(console.warn("Enter edit mode click emit | id is missing."),!1)}},mounted(){console.log(this.recipe)},methods:{deleteRecipeClick(e){this.$emit("delete-recipe-click",e)},enterEditMode(e){this.$emit("enter-edit-mode",e)}}};const $=y()(T,[["render",v]]);var S=$;const _={class:"recipe-details-container form-wrapper"},F=Object(n["g"])("h3",null,"Edit your recipe",-1),q={class:"form-category"},z={class:"form-group"},U=Object(n["g"])("label",{for:"draft"},"Tag this recipe as a draft?",-1),N=["checked"],L={class:"recipe-edit-form"},V={class:"form-group"},X=Object(n["g"])("label",{for:"drink-name"},"Drink Name",-1),H=["value"],G={class:"form-group"},P=Object(n["g"])("label",{for:"description"},"Description",-1),Q=["value"],Y={class:"build-specs form-category"},J=Object(n["g"])("h4",null,"Build Specs",-1),W=Object(n["g"])("span",null,"Recipes must have a minimum of two ingredients.",-1),K=["for"],Z=["id","onUpdate:modelValue"],ee=["for"],te=["id","onUpdate:modelValue"],ie=["for"],ne=["id","onUpdate:modelValue"],ce=["onClick","disabled"],oe={class:"form-group"},re=Object(n["g"])("label",{for:"garnish"},"Garnish",-1),se=["value"],ae={class:"form-group"},le=Object(n["g"])("label",{for:"glass"},"Glass",-1),de=["value"],ue={class:"form-group"},pe=Object(n["g"])("label",{for:"instructions"},"Instructions",-1),be=["value"],ge={class:"extra-info form-category"},he=Object(n["g"])("h4",null,"Extra Info",-1),Oe={class:"form-group"},je=Object(n["g"])("label",{for:"creator-attribution"},"Creator Attribution",-1),me=["value"],fe={class:"form-group"},ve=Object(n["g"])("label",{for:"year-created"},"Year Created",-1),ke=["value"],Ie={class:"form-group"},Ee=Object(n["g"])("label",{for:"other-info"},"Fun facts or other information about this drink:",-1),Re=["value"];function ye(e,t,i,c,o,r){const s=Object(n["z"])("XMarkIcon");return Object(n["s"])(),Object(n["f"])("div",_,[F,Object(n["g"])("button",{class:"exit-btn icon-btn",onClick:t[0]||(t[0]=e=>r.exitEditModeClick())},[Object(n["i"])(s)]),Object(n["g"])("div",q,[Object(n["g"])("div",z,[U,Object(n["g"])("input",{type:"checkbox",class:"form-control",id:"draft",checked:o.localDraftTag,name:"draft",onChange:t[1]||(t[1]=e=>r.updateDraftTag())},null,40,N)]),Object(n["g"])("div",L,[Object(n["g"])("div",V,[X,Object(n["g"])("input",{type:"text",class:"form-control",id:"drink-name",required:"",value:i.recipe.drinkName,onInput:t[2]||(t[2]=e=>o.updatedRecipe.drinkName=e.target.value),name:"drink-name"},null,40,H)]),Object(n["g"])("div",G,[P,Object(n["g"])("input",{type:"text",class:"form-control",id:"description",value:i.recipe.description,onInput:t[3]||(t[3]=e=>o.updatedRecipe.description=e.target.value),name:"description"},null,40,Q)])]),Object(n["g"])("div",Y,[J,W,(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.localRecipeIngredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("div",{class:"form-group ingredient-item",key:t,name:"ingredient-list"},[Object(n["g"])("label",{for:"qty"+t},"Qty",8,K),Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"4",id:"qty"+t,name:"qty","onUpdate:modelValue":t=>e.qty=t},null,8,Z),[[n["E"],e.qty]]),Object(n["g"])("label",{for:"unit"+t},"Unit",8,ee),Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"10",id:"unit"+t,"onUpdate:modelValue":t=>e.unit=t,name:"unit"},null,8,te),[[n["E"],e.unit]]),Object(n["g"])("label",{for:"ingredient"+t},"Ingredient",8,ie),Object(n["H"])(Object(n["g"])("input",{type:"text",class:"form-control",size:"24",id:"ingredient"+t,name:"ingredient",required:"","onUpdate:modelValue":t=>e.ingredient=t},null,8,ne),[[n["E"],e.ingredient]]),Object(n["g"])("button",{class:"form-list-btn icon-btn",onClick:e=>r.deleteIngredientField(t),disabled:o.localRecipeIngredients.length<=2},[Object(n["i"])(s)],8,ce)]))),128)),o.localRecipeIngredients.length<=15?(Object(n["s"])(),Object(n["f"])("button",{key:0,onClick:t[4]||(t[4]=e=>r.addIngredientField()),class:"add-more-fields-btn text-btn"}," Add an ingredient ")):Object(n["e"])("",!0),Object(n["g"])("div",oe,[re,Object(n["g"])("input",{type:"text",class:"form-control",id:"garnish",value:i.recipe.garnish,onInput:t[5]||(t[5]=e=>o.updatedRecipe.garnish=e.target.value),name:"garnish"},null,40,se)]),Object(n["g"])("div",ae,[le,Object(n["g"])("input",{type:"text",class:"form-control",id:"glass",value:i.recipe.glass,onInput:t[6]||(t[6]=e=>o.updatedRecipe.glass=e.target.value),name:"glass"},null,40,de)]),Object(n["g"])("div",ue,[pe,Object(n["g"])("textarea",{type:"text",class:"form-control",id:"instructions",value:i.recipe.instructions,onInput:t[7]||(t[7]=e=>o.updatedRecipe.instructions=e.target.value),name:"instructions"},null,40,be)])]),Object(n["g"])("div",ge,[he,Object(n["g"])("div",Oe,[je,Object(n["g"])("input",{type:"text",class:"form-control",id:"creator-attribution",value:i.recipe.creatorAttribution,onInput:t[8]||(t[8]=e=>o.updatedRecipe.creatorAttribution=e.target.value),name:"creator-attribution"},null,40,me)]),Object(n["g"])("div",fe,[ve,Object(n["g"])("input",{type:"text",class:"form-control",id:"year-created",value:i.recipe.yearCreated,onInput:t[9]||(t[9]=e=>o.updatedRecipe.yearCreated=e.target.value),name:"year-created"},null,40,ke)]),Object(n["g"])("div",Ie,[Ee,Object(n["g"])("textarea",{type:"textarea",class:"form-control",id:"other-info",value:i.recipe.otherInfo,onInput:t[10]||(t[10]=e=>o.updatedRecipe.otherInfo=e.target.value),name:"other-info"},null,40,Re)])]),Object(n["g"])("button",{class:"update-recipe-btn text-btn",onClick:t[11]||(t[11]=e=>r.saveEditsClick(i.recipe.id))}," Save ")])])}var Ce=i("3461"),we={name:"RecipeEditForm",components:{XMarkIcon:Ce["a"]},props:{recipe:Object},data(){return{localRecipeIngredients:this.recipe.ingredients.map(e=>e),localDraftTag:this.recipe.draft,updatedRecipe:{}}},emits:{"exit-edit-click":function(){return!0},"save-edits":function(e){return!!e||(console.warn("Save click emit | id is missing."),!1)}},methods:{updateDraftTag(){this.localDraftTag=!this.localDraftTag,this.updatedRecipe.draft=this.localDraftTag},addIngredientField(){this.localRecipeIngredients.push({qty:"",unit:"",ingredient:""})},deleteIngredientField(e){this.localRecipeIngredients.splice(e,1)},exitEditModeClick(){this.$emit("exit-edit-click")},saveEditsClick(e){for(let i=0;i<=15;i++)this.localRecipeIngredients[i]?(this.updatedRecipe[`ingredientItem${i}_Qty`]=this.localRecipeIngredients[i].qty,this.updatedRecipe[`ingredientItem${i}_Unit`]=this.localRecipeIngredients[i].unit,this.updatedRecipe[`ingredientItem${i}_Ingredient`]=this.localRecipeIngredients[i].ingredient):(this.updatedRecipe[`ingredientItem${i}_Qty`]="",this.updatedRecipe[`ingredientItem${i}_Unit`]="",this.updatedRecipe[`ingredientItem${i}_Ingredient`]="");console.log("UPDATED",this.updatedRecipe);const t=this.updatedRecipe;this.$emit("save-edits",e,t)}}};const Me=y()(we,[["render",ye]]);var Be=Me;const xe=Object(n["g"])("h3",null,"Recipe Not Found",-1),Ae=Object(n["h"])("Return to browsing your Little Bar Book for other recipes"),De=Object(n["h"])(" or "),Te=Object(n["h"])("go to homepage.");function $e(e,t,i,c,o,r){const s=Object(n["z"])("router-link");return Object(n["s"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("p",null,Object(n["B"])(i.message),1),xe,Object(n["g"])("div",null,[Object(n["i"])(s,{to:"/recipes"},{default:Object(n["G"])(()=>[Ae]),_:1}),De,Object(n["i"])(s,{to:"/"},{default:Object(n["G"])(()=>[Te]),_:1})])],64)}var Se={name:"RecipeNotFound",props:{message:String}};const _e=y()(Se,[["render",$e]]);var Fe=_e;const qe={class:"modal-screen-overlay"},ze={class:"modal-container"},Ue={key:0,class:"first-check"},Ne={key:1,class:"final-check"};function Le(e,t,i,c,o,r){return Object(n["s"])(),Object(n["f"])("div",qe,[Object(n["g"])("div",ze,[this.showSecondConfirmation?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("div",Ue,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.disclaimerMessage),1),Object(n["g"])("p",null,Object(n["B"])(this.mainMessage),1),Object(n["g"])("button",{onClick:t[0]||(t[0]=e=>{!0===this.useSecondConfirmation?r.openFinalCheck():r.confirmAction(i.recipe.id)})},Object(n["B"])(this.actionButton),1),Object(n["g"])("button",{onClick:t[1]||(t[1]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])),this.showSecondConfirmation?(Object(n["s"])(),Object(n["f"])("div",Ne,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.finalMessage),1),Object(n["g"])("button",{onClick:t[2]||(t[2]=e=>r.secondConfirmAction(i.recipe.id))},Object(n["B"])(this.confirmActionButton),1),Object(n["g"])("button",{onClick:t[3]||(t[3]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])):Object(n["e"])("",!0)])])}var Ve={name:"ActionModal",components:{},props:{recipe:Object,action:String},emits:{"action-click":function(e){return!!e||(console.warn("Confirm modal click emit | id is missing."),!1)},"close-modal":function(){return!0}},data(){return{showSecondConfirmation:!1,useSecondConfirmation:!1,header:"",disclaimerMessage:"",mainMessage:"",finalMessage:"",actionButton:"",confirmActionButton:"",cancelButton:""}},mounted(){"DELETE"===this.action&&(this.header="DELETE THIS RECIPE?",this.disclaimerMessage="This is a permanent action and cannot be undone!",this.mainMessage="Are you sure you want to delete this recipe from your Little Bar Book?",this.finalMessage="Re-confirm that you want to delete this recipe. This cannot be undone.",this.actionButton="Yes, permanently delete.",this.confirmActionButton="Yes. Delete it forever.",this.cancelButton="No, nevermind.",this.useSecondConfirmation=!0),"EXIT_EDIT"===this.action&&(this.header="EXIT EDITING MODE?",this.disclaimerMessage="Your changes will not be saved!",this.actionButton="Exit, discard changes.",this.cancelButton="Oops, take me back to editing mode.",this.useSecondConfirmation=!1)},methods:{openFinalCheck(){this.showSecondConfirmation=!0},confirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},secondConfirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},closeModal(){this.$emit("close-modal")}}};i("12bf");const Xe=y()(Ve,[["render",Le],["__scopeId","data-v-54bccdbf"]]);var He=Xe,Ge=i("6730"),Pe={name:"recipe",components:{RecipeDetails:S,RecipeEditForm:Be,RecipeNotFound:Fe,ActionModal:He},data(){return{recipe:{},editingMode:!1,modalShow:!1,modalAction:"",modalActionClick:"",notFoundMessage:""}},mounted(){Ge["a"].get(this.$route.params.id).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},methods:{getRecipeDetails(e){Ge["a"].get(e).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},closeModal(){this.modalShow=!1},deleteRecipeRequest(){this.modalShow=!0,this.modalAction="DELETE",this.modalActionClick=this.confirmedDeleteRecipe},confirmedDeleteRecipe(e){Ge["a"].delete(e).then(()=>{this.recipe=[],this.notFoundMessage="Recipe was successfully deleted."}).catch(t=>{console.warn(`Error when deleting recipe with id: ${e}. ${t}`)})},enterEditMode(){this.editingMode=!0},exitEditRequest(){this.modalShow=!0,this.modalAction="EXIT_EDIT",this.modalActionClick=this.exitEditMode},exitEditMode(){this.editingMode=!1},saveEditUpdates(e,t){Ge["a"].update(e,t).then(()=>{this.getRecipeDetails(e),this.exitEditMode()}).catch(t=>{console.warn(`Error when updating recipe with id: ${e}. ${t}`)})}}};const Qe=y()(Pe,[["render",r]]);t["default"]=Qe},3461:function(e,t,i){"use strict";var n=i("7a23");function c(e,t,i,c,o,r){const s=Object(n["z"])("XIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"hero-icons"})}function o(e,t){return Object(n["s"])(),Object(n["d"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Object(n["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}var r={name:"XMarkIcon",components:{XIcon:o}},s=i("6b0d"),a=i.n(s);const l=a()(r,[["render",c]]);t["a"]=l},b2a4:function(e,t,i){}}]);
//# sourceMappingURL=chunk-8faa9616.d3643e34.js.map