(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c2dbda"],{"12bf":function(e,t,i){"use strict";i("b2a4")},3011:function(e,t,i){},3044:function(e,t,i){"use strict";i.r(t);var n=i("7a23");const c={class:"page-container"},o={class:"recipe-container"};function r(e,t,i,r,s,a){const l=Object(n["z"])("ActionModal"),d=Object(n["z"])("RecipeDetails"),u=Object(n["z"])("RecipeEditForm"),p=Object(n["z"])("RecipeNotFound");return Object(n["s"])(),Object(n["f"])("div",c,[this.modalShow?(Object(n["s"])(),Object(n["d"])(l,{key:0,recipe:this.recipe,action:this.modalAction,onActionClick:this.modalActionClick,onCloseModal:a.closeModal},null,8,["recipe","action","onActionClick","onCloseModal"])):Object(n["e"])("",!0),Object(n["g"])("div",o,[this.recipe.id&&!this.editingMode?(Object(n["s"])(),Object(n["d"])(d,{key:0,recipe:this.recipe,onDeleteRecipeClick:a.deleteRecipeRequest,onEnterEditMode:a.enterEditMode},null,8,["recipe","onDeleteRecipeClick","onEnterEditMode"])):Object(n["e"])("",!0),this.recipe.id&&this.editingMode?(Object(n["s"])(),Object(n["d"])(u,{key:1,recipe:this.recipe,onExitEditClick:a.exitEditRequest,onSaveEdits:a.saveEditUpdates},null,8,["recipe","onExitEditClick","onSaveEdits"])):Object(n["e"])("",!0),this.recipe.id?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])(p,{key:2,message:this.notFoundMessage},null,8,["message"]))])])}const s={class:"recipe-details-container"},a=Object(n["g"])("h3",null,"DETAIL VIEW ONLY COMPONENT",-1),l={class:"recipe"},d={class:"drink-name-header"},u={colspan:"2"},p={colspan:"2"},b={colspan:"2"},g={colspan:"2"},O={colspan:"2"},h={colspan:"2"},j={colspan:"2"},m={colspan:"2"},f={colspan:"2"};function v(e,t,i,c,o,r){const v=Object(n["z"])("EditButton"),k=Object(n["z"])("DeleteButton");return Object(n["s"])(),Object(n["f"])("div",s,[a,Object(n["g"])("div",l,[Object(n["i"])(v,{class:"edit-recipe-btn",onClick:t[0]||(t[0]=e=>r.enterEditMode(i.recipe.id))}),Object(n["i"])(k,{class:"delete-recipe-btn",onClick:t[1]||(t[1]=e=>r.deleteRecipeClick(i.recipe.id))}),Object(n["g"])("tr",d,[Object(n["g"])("th",u,Object(n["B"])(i.recipe.drinkName),1),Object(n["g"])("div",{class:Object(n["o"])(i.recipe.draft?"draft":"hidden")},"DRAFT",2)]),Object(n["g"])("tr",null,[Object(n["g"])("td",p,Object(n["B"])(i.recipe.description),1)]),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(i.recipe.ingredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("tr",{class:"ingredient-list",key:t},[Object(n["g"])("th",null,Object(n["B"])(e.qty)+" "+Object(n["B"])(e.unit),1),Object(n["g"])("td",null,Object(n["B"])(e.ingredient),1)]))),128)),Object(n["g"])("tr",null,[Object(n["g"])("td",b,Object(n["B"])(i.recipe.garnish),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",g,Object(n["B"])(i.recipe.glass),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",O,Object(n["B"])(i.recipe.instructions),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",h,Object(n["B"])(i.recipe.yearCreated),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",j,Object(n["B"])(i.recipe.otherInfo),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",m,Object(n["B"])(i.recipe.creatorAttribution),1)]),Object(n["g"])("tr",null,[Object(n["g"])("td",f,Object(n["B"])(i.recipe.published),1)])])])}function k(e,t,i,c,o,r){const s=Object(n["z"])("TrashIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"trash-icon"})}function I(e,t){return Object(n["s"])(),Object(n["d"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Object(n["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])}var E={name:"DeleteButton",components:{TrashIcon:I}},y=(i("4c89"),i("6b0d")),C=i.n(y);const R=C()(E,[["render",k]]);var B=R;function M(e,t,i,c,o,r){const s=Object(n["z"])("PencilAltIcon");return Object(n["s"])(),Object(n["d"])(s,{class:"trash-icon"})}function w(e,t){return Object(n["s"])(),Object(n["d"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Object(n["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])}var A={name:"DeleteButton",components:{PencilAltIcon:w}};i("f166");const x=C()(A,[["render",M]]);var D=x,$={name:"RecipeDetails",components:{DeleteButton:B,EditButton:D},props:{recipe:Object},emits:{"delete-recipe-click":function(e){return!!e||(console.warn("Delete click emit | id is missing."),!1)},"enter-edit-mode":function(e){return!!e||(console.warn("Enter edit mode click emit | id is missing."),!1)}},mounted(){console.log(this.recipe)},methods:{deleteRecipeClick(e){this.$emit("delete-recipe-click",e)},enterEditMode(e){this.$emit("enter-edit-mode",e)}}};const S=C()($,[["render",v]]);var F=S;const T={class:"recipe-details-container"},_=Object(n["g"])("h3",null,"EDIT COMPONENT",-1),N={class:"recipe-edit-form"},q={class:"form-group"},z=Object(n["g"])("label",{for:"drink-name"},"Drink Name",-1),L=["value"],U={class:"form-group"},G=Object(n["g"])("label",{for:"description"},"Description",-1),P=["value"],X=["for"],Y=["id","value","onInput"],H=["for"],Q=["id","value","onInput"],W=["for"],J=["id","value","onInput"],V=["onClick"],K={class:"form-group"},Z=Object(n["g"])("label",{for:"garnish"},"Garnish",-1),ee=["value"],te={class:"form-group"},ie=Object(n["g"])("label",{for:"glass"},"Glass",-1),ne=["value"],ce={class:"form-group"},oe=Object(n["g"])("label",{for:"instructions"},"Instructions",-1),re=["value"],se={class:"form-group"},ae={class:"form-group"},le=Object(n["g"])("label",{for:"creator-attribution"},"Creator Attribution",-1),de=["value"],ue={class:"form-group"},pe=Object(n["g"])("label",{for:"year-created"},"Year Created",-1),be=["value"],ge={class:"form-group"},Oe=Object(n["g"])("label",{for:"other-info"},"Fun facts or other information about this drink:",-1),he=["value"],je=Object(n["g"])("br",null,null,-1);function me(e,t,i,c,o,r){return Object(n["s"])(),Object(n["f"])("div",T,[_,Object(n["g"])("button",{class:"exit-edit-btn",onClick:t[0]||(t[0]=e=>r.exitEditModeClick())},"X"),Object(n["g"])("div",N,[Object(n["g"])("div",q,[z,Object(n["g"])("input",{type:"text",class:"form-control",id:"drink-name",required:"",value:i.recipe.drinkName,onInput:t[1]||(t[1]=e=>o.updatedRecipe.drinkName=e.target.value),name:"drink-name"},null,40,L)]),Object(n["g"])("div",U,[G,Object(n["g"])("input",{type:"text",class:"form-control",id:"description",value:i.recipe.description,onInput:t[2]||(t[2]=e=>o.updatedRecipe.description=e.target.value),name:"description"},null,40,P)]),(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.localRecipeIngredients,(e,t)=>(Object(n["s"])(),Object(n["f"])("div",{class:"form-group",key:t},[Object(n["g"])("label",{for:"qty"+t},"Qty",8,X),Object(n["g"])("input",{type:"text",class:"form-control",id:"qty"+t,value:e.qty,onInput:e=>o.updatedRecipe[`ingredientItem${t}_Qty`]=e.target.value,name:"qty"},null,40,Y),Object(n["g"])("label",{for:"unit"+t},"Unit",8,H),Object(n["g"])("input",{type:"text",class:"form-control",id:"unit"+t,value:e.unit,onInput:e=>o.updatedRecipe[`ingredientItem${t}_Unit`]=e.target.value,name:"unit"},null,40,Q),Object(n["g"])("label",{for:"ingredient"+t},"Ingredient",8,W),Object(n["g"])("input",{type:"text",class:"form-control",id:"ingredient"+t,value:e.ingredient,onInput:e=>o.updatedRecipe[`ingredientItem${t}_Ingredient`]=e.target.value,name:"ingredient",required:""},null,40,J),Object(n["g"])("button",{class:"delete-ingredient-btn",onClick:e=>r.deleteIngredientField(t)}," X ",8,V)]))),128)),Object(n["g"])("button",{class:"add-ingredient-btn",onClick:t[3]||(t[3]=(...e)=>r.addIngredientField&&r.addIngredientField(...e))}," Add an ingredient "),Object(n["g"])("div",K,[Z,Object(n["g"])("input",{type:"text",class:"form-control",id:"garnish",value:i.recipe.garnish,onInput:t[4]||(t[4]=e=>o.updatedRecipe.garnish=e.target.value),name:"garnish"},null,40,ee)]),Object(n["g"])("div",te,[ie,Object(n["g"])("input",{type:"text",class:"form-control",id:"glass",value:i.recipe.glass,onInput:t[5]||(t[5]=e=>o.updatedRecipe.glass=e.target.value),name:"glass"},null,40,ne)]),Object(n["g"])("div",ce,[oe,Object(n["g"])("textarea",{type:"text",class:"form-control",id:"instructions",value:i.recipe.instructions,onInput:t[6]||(t[6]=e=>o.updatedRecipe.instructions=e.target.value),name:"instructions"},null,40,re)]),Object(n["g"])("div",se,[Object(n["g"])("div",ae,[le,Object(n["g"])("input",{type:"text",class:"form-control",id:"creator-attribution",value:i.recipe.creatorAttribution,onInput:t[7]||(t[7]=e=>o.updatedRecipe.creatorAttribution=e.target.value),name:"creator-attribution"},null,40,de)]),Object(n["g"])("div",ue,[pe,Object(n["g"])("input",{type:"text",class:"form-control",id:"year-created",value:i.recipe.yearCreated,onInput:t[8]||(t[8]=e=>o.updatedRecipe.yearCreated=e.target.value),name:"year-created"},null,40,be)]),Object(n["g"])("div",ge,[Oe,Object(n["g"])("textarea",{type:"textarea",class:"form-control",id:"other-info",value:i.recipe.otherInfo,onInput:t[9]||(t[9]=e=>o.updatedRecipe.otherInfo=e.target.value),name:"other-info"},null,40,he)]),je]),Object(n["g"])("button",{class:"update-recipe-btn",onClick:t[10]||(t[10]=e=>r.saveEditsClick(i.recipe.id,this.updatedRecipe))}," Save ")])])}var fe={name:"RecipeEditForm",props:{recipe:Object},data(){return{localRecipeIngredients:this.recipe.ingredients.map(e=>e),updatedRecipe:{}}},emits:{"exit-edit-click":function(){return!0},"save-edits":function(e){return!!e||(console.warn("Save click emit | id is missing."),!1)}},methods:{addIngredientField(){if(this.localRecipeIngredients.length<9){const e={qty:"",unit:"",ingredient:""};this.localRecipeIngredients.push(e)}else alert("We're sorry, you cannot add more ingredients at this time.")},deleteIngredientField(e){this.localRecipeIngredients.length>2?this.localRecipeIngredients.splice(e):alert("We're sorry, you cannot have less than two ingredients in your drink.")},exitEditModeClick(){this.$emit("exit-edit-click")},saveEditsClick(e,t){this.$emit("save-edits",e,t)}}};const ve=C()(fe,[["render",me]]);var ke=ve;const Ie=Object(n["g"])("h3",null,"Recipe Not Found",-1),Ee=Object(n["h"])("Return to browsing your Little Bar Book for other recipes"),ye=Object(n["h"])(" or "),Ce=Object(n["h"])("go to homepage.");function Re(e,t,i,c,o,r){const s=Object(n["z"])("router-link");return Object(n["s"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("p",null,Object(n["B"])(i.message),1),Ie,Object(n["g"])("div",null,[Object(n["i"])(s,{to:"/recipes"},{default:Object(n["G"])(()=>[Ee]),_:1}),ye,Object(n["i"])(s,{to:"/"},{default:Object(n["G"])(()=>[Ce]),_:1})])],64)}var Be={name:"RecipeNotFound",props:{message:String}};const Me=C()(Be,[["render",Re]]);var we=Me;const Ae={class:"modal-screen-overlay"},xe={class:"modal-container"},De={key:0,class:"first-check"},$e={key:1,class:"final-check"};function Se(e,t,i,c,o,r){return Object(n["s"])(),Object(n["f"])("div",Ae,[Object(n["g"])("div",xe,[this.showSecondConfirmation?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("div",De,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.disclaimerMessage),1),Object(n["g"])("p",null,Object(n["B"])(this.mainMessage),1),Object(n["g"])("button",{onClick:t[0]||(t[0]=e=>{!0===this.useSecondConfirmation?r.openFinalCheck():r.confirmAction(i.recipe.id)})},Object(n["B"])(this.actionButton),1),Object(n["g"])("button",{onClick:t[1]||(t[1]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])),this.showSecondConfirmation?(Object(n["s"])(),Object(n["f"])("div",$e,[Object(n["g"])("h3",null,Object(n["B"])(this.header),1),Object(n["g"])("p",null,Object(n["B"])(this.finalMessage),1),Object(n["g"])("button",{onClick:t[2]||(t[2]=e=>r.secondConfirmAction(i.recipe.id))},Object(n["B"])(this.confirmActionButton),1),Object(n["g"])("button",{onClick:t[3]||(t[3]=e=>r.closeModal())},Object(n["B"])(this.cancelButton),1)])):Object(n["e"])("",!0)])])}var Fe={name:"ActionModal",components:{},props:{recipe:Object,action:String},emits:{"action-click":function(e){return!!e||(console.warn("Confirm modal click emit | id is missing."),!1)},"close-modal":function(){return!0}},data(){return{showSecondConfirmation:!1,useSecondConfirmation:!1,header:"",disclaimerMessage:"",mainMessage:"",finalMessage:"",actionButton:"",confirmActionButton:"",cancelButton:""}},mounted(){"DELETE"===this.action&&(this.header="DELETE THIS RECIPE?",this.disclaimerMessage="This is a permanent action and cannot be undone!",this.mainMessage="Are you sure you want to delete this recipe from your Little Bar Book?",this.finalMessage="Re-confirm that you want to delete this recipe. This cannot be undone.",this.actionButton="Yes, permanently delete.",this.confirmActionButton="Yes. Delete it forever.",this.cancelButton="No, nevermind.",this.useSecondConfirmation=!0),"EXIT_EDIT"===this.action&&(this.header="EXIT EDITING MODE?",this.disclaimerMessage="Your changes will not be saved!",this.actionButton="Exit, discard changes.",this.cancelButton="Oops, take me back to editing mode.",this.useSecondConfirmation=!1)},methods:{openFinalCheck(){this.showSecondConfirmation=!0},confirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},secondConfirmAction(e){this.$emit("action-click",e),this.$emit("close-modal")},closeModal(){this.$emit("close-modal")}}};i("12bf");const Te=C()(Fe,[["render",Se],["__scopeId","data-v-54bccdbf"]]);var _e=Te,Ne=i("6730"),qe={name:"recipe",components:{RecipeDetails:F,RecipeEditForm:ke,RecipeNotFound:we,ActionModal:_e},data(){return{recipe:{},editingMode:!1,modalShow:!1,modalAction:"",modalActionClick:"",notFoundMessage:""}},mounted(){Ne["a"].get(this.$route.params.id).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},methods:{getRecipeDetails(e){Ne["a"].get(e).then(e=>{let t=e.data;t.ingredients=[];for(let i=0;i<9;i++)t[`ingredientItem${i}_Ingredient`]&&t.ingredients.push({qty:t[`ingredientItem${i}_Qty`],unit:t[`ingredientItem${i}_Unit`],ingredient:t[`ingredientItem${i}_Ingredient`]});this.recipe=t})},closeModal(){this.modalShow=!1},deleteRecipeRequest(){this.modalShow=!0,this.modalAction="DELETE",this.modalActionClick=this.confirmedDeleteRecipe},confirmedDeleteRecipe(e){Ne["a"].delete(e).then(()=>{this.recipe=[],this.notFoundMessage="Recipe was successfully deleted."}).catch(t=>{console.warn(`Error when deleting recipe with id: ${e}. ${t}`)})},enterEditMode(){this.editingMode=!0},exitEditRequest(){this.modalShow=!0,this.modalAction="EXIT_EDIT",this.modalActionClick=this.exitEditMode},exitEditMode(){this.editingMode=!1},saveEditUpdates(e,t){Ne["a"].update(e,t).then(()=>{this.getRecipeDetails(e),this.exitEditMode()}).catch(t=>{console.warn(`Error when updating recipe with id: ${e}. ${t}`)})}}};const ze=C()(qe,[["render",r]]);t["default"]=ze},"4c89":function(e,t,i){"use strict";i("9162")},9162:function(e,t,i){},b2a4:function(e,t,i){},f166:function(e,t,i){"use strict";i("3011")}}]);
//# sourceMappingURL=chunk-28c2dbda.20e36d68.js.map